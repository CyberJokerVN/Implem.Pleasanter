"Sites"."TenantId" = @ipT and (exists(select "Permissions"."PermissionType" from "Permissions" where "Permissions"."ReferenceId" in ("InheritPermission","Items"."ReferenceId") and "Permissions"."PermissionType" & 1 = 1 and (("Permissions"."DeptId" = @ipD and @ipD <> 0) or ("Permissions"."UserId" = @ipU and @ipU <> 0) or ("Permissions"."UserId" = -1) or (exists(select * from "GroupMembers" inner join "Groups" on "GroupMembers"."GroupId" = "Groups"."GroupId" where "Groups"."TenantId" = @ipT and "Permissions"."GroupId"="GroupMembers"."GroupId" and (("GroupMembers"."DeptId" = @ipD and @ipD <> 0) or ("GroupMembers"."UserId" = @ipU and @ipU <> 0))))) limit 1 ))